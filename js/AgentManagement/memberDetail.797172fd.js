import{T as L}from"../index/index.23d0c00d.js";import{q as Q,c as x,d as z,e as V,f as Y}from"../agaentaccount/agaentaccount.a838f357.js";import{u as $}from"../vue-i18n/vue-i18n.d7e01f80.js";import{u as B,a as W}from"../vue-router/vue-router.7bf1a7d6.js";import{_ as F,u as R,c as j}from"../../assets/index.a78b18fa.js";import{a0 as H,l as J,w as P,ag as y,aj as X,o as _,c as T,a as m,u as b,W as p,U as S,V as h,X as i,R as n,S as Z,F as K,a6 as O,L as C}from"../@vue/@vue.ac555ff6.js";import"../element-plus/element-plus.264a2030.js";import"../lodash-es/lodash-es.b08b606b.js";import"../@element-plus/@element-plus.86c1a5c4.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.95e2c99f.js";import"../dayjs/dayjs.92e8c432.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.5bbd8ca4.js";import"../@intlify/@intlify.f8bf6d3d.js";import"../pinia/pinia.e6361111.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../js-cookie/js-cookie.431252a9.js";import"../axios/axios.21f17a99.js";import"../path-to-regexp/path-to-regexp.ecb763cd.js";import"../mitt/mitt.fcf4f812.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../@vueuse/@vueuse.f48a019e.js";import"../file-saver/file-saver.ff99116b.js";import"../side-channel/side-channel.cd9fb761.js";import"../get-intrinsic/get-intrinsic.5afea291.js";import"../has-symbols/has-symbols.37c383d9.js";import"../function-bind/function-bind.20151ab8.js";import"../has/has.21528ef4.js";import"../call-bind/call-bind.89d60758.js";import"../qs/qs.2a7d7167.js";import"../nprogress/nprogress.f1c59d51.js";/* empty css                                 */import"../clipboard/clipboard.091b7d6b.js";import"../xe-utils/xe-utils.8594097a.js";import"../vxe-table/vxe-table.93a767e7.js";import"../vite-plugin-mock/vite-plugin-mock.db0c3313.js";import"../mockjs/mockjs.c03cea25.js";const tt={class:"user-list-wrap"},et={class:"titles"},at={class:"title"},ot={key:0},lt={key:0},rt={class:"searchTabWrapper"},st={class:"tabsList"},nt=["onClick"],it={class:"warpperTable"},pt={__name:"memberDetail",setup(ut){const{t:a}=$(),u=B(),N=W();R();const f=j(),A=[{label:a("CUST.translate278"),class:"info"},{label:a("CUST.translate259"),class:"success"},{label:a("CUST.translate277"),class:"danger"},{label:a("CUST.lock"),class:"default"},{label:a("CUST.unlock"),class:"default"}],t=H({recordList:[],columns:[],total:30,pageSize:10,current:1,formInline:{month:""},loading:!0,routeQueryId:"",routeQueryName:"",routeQueryDetailId:"",currentType:""}),c=[{label:a("AGENT.translate9"),type:"gameWin"},{label:a("AGENT.translate10"),type:"saveDetail"},{label:a("AGENT.translate11"),type:"useDetail"},{label:a("AGENT.translate12"),type:"sendDetail"},{label:a("AGENT.translate13"),type:"giftDetail"}],U=()=>{t.formInline={month:""},t.current=1,d()};J(async()=>{t.routeQueryId=u.query.agentId,t.routeQueryName=u.query.agentAcccount,t.routeQueryDetailId=u.query.detailId,t.currentType=u.query.type||"gameWin",d()}),P(()=>u.query.type,o=>{t.currentType=o,d()});const v=()=>{t.routeQueryId?N.push({name:"subordinateMember",query:{agentId:t.routeQueryId,agentAcccount:t.routeQueryName}}):N.push({name:"subordinateMember"})},I=o=>{const e=t.routeQueryId,l=t.routeQueryName,r=t.routeQueryDetailId,g={agentId:e,agentAcccount:l,detailId:r,type:o};N.push({name:"subordinateMemberDetail",query:g})};function D(o){t.current=o,d()}function k(o){t.pageSize=o,d()}const d=()=>{const o={...t.formInline,uid:t.routeQueryDetailId};switch(t.loading=!0,t.currentType){case c[0].type:t.columns=[{prop:"gameName",label:a("AGENT.translate14")},{prop:"betAmt",label:a("CUST.translate34")},{prop:"payoutAmt",label:a("AGENT.translate15")},{prop:"validBetAmt",label:a("AGENT.translate16")},{prop:"winLoseAmt",label:a("CUST.translate297"),slot:"makeMoney"}],Y(o).then(e=>{const l=(e==null?void 0:e.rows)||[];t.recordList=l,t.total=e==null?void 0:e.total,t.loading=!1});break;case c[1].type:t.columns=[{prop:"orderNo",label:a("CUST.translate280")},{prop:"uid",label:a("AGENT.translate17"),slot:"uid"},{prop:"depositAmt",label:a("AGENT.translate18")},{prop:"orderTime",label:a("CUST.translate283")}],V(o).then(e=>{const l=(e==null?void 0:e.rows)||[];t.recordList=l,t.total=e==null?void 0:e.total,t.loading=!1});break;case c[2].type:t.columns=[{prop:"orderNo",label:a("CUST.translate280")},{prop:"uid",label:a("AGENT.translate17"),slot:"uid"},{prop:"withdrawAmt",label:a("AGENT.translate19")},{prop:"orderTime",label:a("CUST.translate283")},{prop:"statusType",label:a("CUST.translate130"),slot:"status"}],z(o).then(e=>{const l=(e==null?void 0:e.rows)||[];t.recordList=l,t.total=e==null?void 0:e.total,t.loading=!1});break;case c[3].type:t.columns=[{prop:"orderNo",label:a("CUST.translate280")},{prop:"uid",label:a("AGENT.translate17"),slot:"uid"},{prop:"typeName",label:a("AGENT.translate20")},{prop:"bonusAmt",label:a("AGENT.translate21")},{prop:"orderTime",label:a("CUST.translate283")}],x(o).then(e=>{const l=(e==null?void 0:e.rows)||[];l.map(r=>{f.lang==="zh"&&(r.typeName=r.typeNameZh),f.lang==="vi"&&(r.typeName=r.typeNameVi),f.lang==="jp"&&(r.typeName=r.typeNameJp),f.lang==="th"&&(r.typeName=r.typeNameTh)}),t.recordList=l,t.total=e==null?void 0:e.total,t.loading=!1});break;case c[4].type:t.columns=[{prop:"rewardTime",label:a("CUST.translate231")},{prop:"giftAmt",label:a("AGENT.translate22")}],Q(o).then(e=>{const l=(e==null?void 0:e.rows)||[];t.recordList=l,t.total=e==null?void 0:e.total,t.loading=!1});break}};return(o,e)=>{const l=y("el-date-picker"),r=y("el-form-item"),g=y("el-button"),w=y("el-form"),G=y("el-scrollbar"),E=y("el-tag"),q=X("loading");return _(),T("div",tt,[m("div",et,[m("span",at,[b(u).query.detailId?(_(),T("span",ot,p(b(u).query.detailId),1)):S("",!0),h(" "+p(o.$t("AGENT.translate1")),1)]),b(u).query.detailId?(_(),T("span",lt,[m("span",{class:"return",onClick:v},p(o.$t("AGENT.translate3")),1)])):S("",!0)]),i(G,null,{default:n(()=>[m("div",rt,[i(w,{inline:!0,model:t.formInline,class:"demo-form-inline"},{default:n(()=>[i(r,{label:`${b(a)("CUST.translate228")}\uFF1A`,class:"form-items-body"},{default:n(()=>[i(l,{modelValue:t.formInline.month,"onUpdate:modelValue":e[0]||(e[0]=s=>t.formInline.month=s),type:"month",placeholder:b(a)("CUST.translate229"),style:{width:"200px"},format:"YYYY/MM","value-format":"YYYY-MM"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(r,null,{default:n(()=>[i(g,{onClick:d,class:"but",icon:"Search",style:{"margin-left":"10px","margin-right":"10px"}},{default:n(()=>[h(p(o.$t("CUST.translate195")),1)]),_:1})]),_:1}),i(r,null,{default:n(()=>[i(g,{onClick:U,class:"resetButton"},{default:n(()=>[h(p(o.$t("CUST.translate196")),1)]),_:1})]),_:1})]),_:1},8,["model"]),m("div",st,[(_(),T(K,null,O(c,(s,M)=>m("div",{class:C(`tab ${t.currentType===s.type?"active":""}`),key:M,onClick:mt=>I(s.type)},p(s.label),11,nt)),64))])])]),_:1}),Z((_(),T("div",it,[i(L,{data:t.recordList,columns:t.columns,total:t.total,pageSize:t.pageSize,current:t.current,pageUpdate:D,sizeUpdate:k,"show-summary":"","sum-text":b(a)("CUST.translate230"),maxHeight:"calc(100vh - 320px)"},{status:n(({row:s})=>[i(E,{type:A[s.status||0].class},{default:n(()=>[h(p(A[s.status||0].label),1)]),_:2},1032,["type"])]),makeMoney:n(({row:s})=>[m("div",{class:C(Number(s.winLoseAmt)<0?"loseColor":"winColor")},p(Math.abs(s.winLoseAmt)),3)]),uid:n(({row:s})=>[m("div",null,p(t.routeQueryDetailId),1)]),_:1},8,["data","columns","total","pageSize","current","sum-text"])])),[[q,t.loading]])])}}};var Ot=F(pt,[["__scopeId","data-v-2b2b237c"]]);export{Ot as default};
