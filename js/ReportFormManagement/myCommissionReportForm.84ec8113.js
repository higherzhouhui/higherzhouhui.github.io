import{T as I}from"../index/index.23d0c00d.js";import{j as x}from"../reportForm/reportForm.2ebde4b5.js";import{_ as z,r as A}from"../../assets/index.a78b18fa.js";import{u as R}from"../vue-i18n/vue-i18n.d7e01f80.js";import{a0 as k,l as L,ag as i,aj as Y,o as f,c as C,a as S,W as n,X as a,R as r,S as D,u as s,V as c,L as V}from"../@vue/@vue.ac555ff6.js";import"../element-plus/element-plus.264a2030.js";import"../lodash-es/lodash-es.b08b606b.js";import"../@element-plus/@element-plus.86c1a5c4.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.95e2c99f.js";import"../dayjs/dayjs.92e8c432.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.5bbd8ca4.js";import"../pinia/pinia.e6361111.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../js-cookie/js-cookie.431252a9.js";import"../axios/axios.21f17a99.js";import"../vue-router/vue-router.7bf1a7d6.js";import"../path-to-regexp/path-to-regexp.ecb763cd.js";import"../mitt/mitt.fcf4f812.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../@vueuse/@vueuse.f48a019e.js";import"../file-saver/file-saver.ff99116b.js";import"../side-channel/side-channel.cd9fb761.js";import"../get-intrinsic/get-intrinsic.5afea291.js";import"../has-symbols/has-symbols.37c383d9.js";import"../function-bind/function-bind.20151ab8.js";import"../has/has.21528ef4.js";import"../call-bind/call-bind.89d60758.js";import"../qs/qs.2a7d7167.js";import"../nprogress/nprogress.f1c59d51.js";/* empty css                                 */import"../clipboard/clipboard.091b7d6b.js";import"../xe-utils/xe-utils.8594097a.js";import"../vxe-table/vxe-table.93a767e7.js";import"../vite-plugin-mock/vite-plugin-mock.db0c3313.js";import"../mockjs/mockjs.c03cea25.js";import"../@intlify/@intlify.f8bf6d3d.js";const B={class:"user-list-wrap"},M={class:"titles"},N={class:"warpperTable"},P={__name:"myCommissionReportForm",setup(F){const{t:o}=R(),t=k({recordList:[],columns:[{prop:"agentId",label:o("CUST.dlID")},{prop:"month",label:o("CUST.translate231")},{prop:"totalBetAmt",label:o("CUST.translate286"),width:140},{prop:"totalProfit",label:o("CUST.translate246"),width:140,slot:"totalProfit"},{prop:"bonusAmt",label:o("CUST.translate247"),width:140},{prop:"directMemberAmt",label:o("CUST.translate287"),width:140},{prop:"directAgentAmt",label:o("CUST.translate288"),width:140},{prop:"supportAmt",label:o("CUST.translate289"),width:140},{prop:"giftAmt",label:o("CUST.translate293"),minWidth:140},{prop:"modifyAmt",label:o("CUST.translate294"),minWidth:140},{prop:"reversalAmt",label:o("CUST.translate290"),minWidth:140},{prop:"totalAmt",label:o("CUST.translate291"),width:100},{prop:"remark",label:o("CUST.translate292")},{prop:"statusType",label:o("CUST.translate130"),slot:"status",width:120}],total:30,pageSize:10,current:1,formInline:{month:""},loading:!0,downloadLoading:!1});L(()=>{_()});const _=()=>{t.loading=!0,x({...t.formInline,pageNum:t.current,pageSize:t.pageSize}).then(e=>{t.loading=!1;const p=(e==null?void 0:e.rows)||[];t.recordList=p,t.total=e==null?void 0:e.total})},g=()=>{t.formInline={month:""},t.current=1,m()},m=()=>{_(),console.log(t.formInline)},h=async()=>{t.downloadLoading=!0,await A(t.formInline,o("CUST.translate284"),"myCommissionSettleRecord"),t.downloadLoading=!1};function T(e){t.current=e,m()}function U(e){t.pageSize=e,m()}return(e,p)=>{const b=i("el-date-picker"),d=i("el-form-item"),u=i("el-button"),y=i("el-form"),v=i("el-tag"),w=Y("loading");return f(),C("div",B,[S("div",M,n(e.$t("CUST.translate284")),1),a(y,{inline:!0,model:t.formInline,class:"demo-form-inline"},{default:r(()=>[a(d,{label:`${s(o)("CUST.translate228")}\uFF1A`,class:"form-items-body"},{default:r(()=>[a(b,{modelValue:t.formInline.month,"onUpdate:modelValue":p[0]||(p[0]=l=>t.formInline.month=l),type:"month",placeholder:s(o)("CUST.translate229"),style:{width:"200px"},format:"YYYY/MM","value-format":"YYYY-MM"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(d,null,{default:r(()=>[a(u,{onClick:m,class:"but",icon:"Search"},{default:r(()=>[c(n(e.$t("CUST.translate195")),1)]),_:1})]),_:1}),a(d,null,{default:r(()=>[a(u,{onClick:g,class:"resetButton"},{default:r(()=>[c(n(e.$t("CUST.translate196")),1)]),_:1})]),_:1}),a(d,null,{default:r(()=>[a(u,{class:"resetButton",loading:t.downloadLoading,type:"success",icon:"Document",onClick:h},{default:r(()=>[c(n(s(o)("exportReport")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),D((f(),C("div",N,[a(I,{data:t.recordList,columns:t.columns,total:t.total,pageSize:t.pageSize,current:t.current,pageUpdate:T,sizeUpdate:U,maxHeight:"calc(100vh - 330px)","show-summary":"","sum-text":s(o)("CUST.translate230")},{status:r(({row:l})=>[a(v,{type:l.status===1?"info":l.status===2?"":"success"},{default:r(()=>[c(n(l.status===1?s(o)("CUST.translate257"):l.status===2?s(o)("CUST.translate258"):s(o)("CUST.translate285")),1)]),_:2},1032,["type"])]),totalProfit:r(({row:l})=>[S("div",{class:V(Number(l.totalProfit)<0?"loseColor":"winColor")},n(l.totalProfit),3)]),_:1},8,["data","columns","total","pageSize","current","sum-text"])])),[[w,t.loading]])])}}};var zt=z(P,[["__scopeId","data-v-24254e14"]]);export{zt as default};
