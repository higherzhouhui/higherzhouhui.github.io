import{i as A}from"../reportForm/reportForm.2ebde4b5.js";import{_ as V,r as L}from"../../assets/index.a78b18fa.js";import{u as $}from"../vue-i18n/vue-i18n.d7e01f80.js";import{a0 as x,l as Y,ag as b,aj as k,o as U,c as h,a as c,W as m,X as l,R as r,S as D,u as a,V as _,L as g}from"../@vue/@vue.ac555ff6.js";import"../element-plus/element-plus.264a2030.js";import"../lodash-es/lodash-es.b08b606b.js";import"../@element-plus/@element-plus.86c1a5c4.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.95e2c99f.js";import"../dayjs/dayjs.92e8c432.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.5bbd8ca4.js";import"../pinia/pinia.e6361111.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../js-cookie/js-cookie.431252a9.js";import"../axios/axios.21f17a99.js";import"../vue-router/vue-router.7bf1a7d6.js";import"../path-to-regexp/path-to-regexp.ecb763cd.js";import"../mitt/mitt.fcf4f812.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../@vueuse/@vueuse.f48a019e.js";import"../file-saver/file-saver.ff99116b.js";import"../side-channel/side-channel.cd9fb761.js";import"../get-intrinsic/get-intrinsic.5afea291.js";import"../has-symbols/has-symbols.37c383d9.js";import"../function-bind/function-bind.20151ab8.js";import"../has/has.21528ef4.js";import"../call-bind/call-bind.89d60758.js";import"../qs/qs.2a7d7167.js";import"../nprogress/nprogress.f1c59d51.js";/* empty css                                 */import"../clipboard/clipboard.091b7d6b.js";import"../xe-utils/xe-utils.8594097a.js";import"../vxe-table/vxe-table.93a767e7.js";import"../vite-plugin-mock/vite-plugin-mock.db0c3313.js";import"../mockjs/mockjs.c03cea25.js";import"../@intlify/@intlify.f8bf6d3d.js";const R={class:"user-list-wrap"},P={class:"titles"},B={class:"warpperTable"},M={__name:"platformReportForm",setup(w){const{t:e}=$(),n=x({recordList:[],total:30,pageSize:10,current:1,formInline:{agentAccount:null,parentAgent:null,month:null},loading:!0,downloadLoading:!1}),N=()=>{n.formInline={agentAccount:null,parentAgent:null,month:null},n.current=1,C()};Y(()=>{S()});const S=()=>{n.loading=!0,A({...n.formInline,pageNum:n.current,pageSize:n.pageSize}).then(p=>{if(p.code===200){n.total=p.total;let s=[];p.rows.forEach((d,f)=>{console.log("33",d);let u={agentAccount:d.agentAccount,agentId:d.agentId,month:d.month,demo5:0,demo6:0};d.gamePlatformVOList.forEach((i,T)=>{u={...u,[`${i.gameTypeName}1`]:i.totalProfit,[`${i.gameTypeName}2`]:`${i.platformRatio||0}%`,[`${i.gameTypeName}3`]:i.platformAmt},u.demo5+=i.totalProfit,u.demo6+=i.platformAmt}),s=[...s,u]}),console.log(s),n.loading=!1,n.recordList=s}console.log(p)})},I=async()=>{n.downloadLoading=!0,await L(n.formInline,e("CUST.translate295"),"gamePlatformStatis"),n.downloadLoading=!1},C=()=>{S(),console.log(n.formInline)};return(p,s)=>{const d=b("el-input"),f=b("el-form-item"),u=b("el-date-picker"),i=b("el-button"),T=b("el-form"),o=b("el-table-column"),y=b("el-table"),v=k("loading");return U(),h("div",R,[c("div",P,m(p.$t("CUST.translate295")),1),l(T,{inline:!0,model:n.formInline,class:"demo-form-inline"},{default:r(()=>[l(f,{label:`${a(e)("CUST.translate209")}\uFF1A`,class:"form-items-body"},{default:r(()=>[l(d,{clearable:"",modelValue:n.formInline.agentAccount,"onUpdate:modelValue":s[0]||(s[0]=t=>n.formInline.agentAccount=t),placeholder:a(e)("CUST.translate242"),class:"form-items"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(f,{label:`${a(e)("CUST.translate228")}\uFF1A`,class:"form-items-body"},{default:r(()=>[l(u,{modelValue:n.formInline.month,"onUpdate:modelValue":s[1]||(s[1]=t=>n.formInline.month=t),type:"month",placeholder:a(e)("CUST.translate229"),style:{width:"200px"},format:"YYYY/MM","value-format":"YYYY-MM"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(f,null,{default:r(()=>[l(i,{onClick:C,class:"but",icon:"Search"},{default:r(()=>[_(m(p.$t("CUST.translate195")),1)]),_:1})]),_:1}),l(f,null,{default:r(()=>[l(i,{onClick:N,class:"resetButton"},{default:r(()=>[_(m(p.$t("CUST.translate196")),1)]),_:1})]),_:1}),l(f,null,{default:r(()=>[l(i,{class:"resetButton",loading:n.downloadLoading,type:"success",icon:"Document",onClick:I},{default:r(()=>[_(m(a(e)("exportReport")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),D((U(),h("div",B,[l(y,{data:n.recordList},{default:r(()=>[l(o,{prop:"agentId",label:a(e)("CUST.dlID"),width:"150",align:"center"},null,8,["label"]),l(o,{prop:"agentAccount",label:a(e)("CUST.translate209"),width:"150",align:"center"},null,8,["label"]),l(o,{prop:"month",label:a(e)("CUST.translate296"),width:"150",align:"center"},null,8,["label"]),l(o,{prop:"demo1",label:a(e)("CUST.translate297"),"min-width":"150",align:"center"},{default:r(()=>[l(o,{prop:"\u4F53\u80B21",label:a(e)("CUST.translate298"),align:"center"},{default:r(({row:t})=>[c("div",{class:g(Number(t.\u4F53\u80B21)>0?"color1":Number(t.\u4F53\u80B21)<0?"color2":"")},m(t.\u4F53\u80B21),3)]),_:1},8,["label"]),l(o,{prop:"\u68CB\u724C1",label:a(e)("CUST.translate299"),align:"center"},{default:r(({row:t})=>[c("div",{class:g(Number(t.\u68CB\u724C1)>0?"color1":Number(t.\u68CB\u724C1)<0?"color2":"")},m(t.\u68CB\u724C1),3)]),_:1},8,["label"]),l(o,{prop:"\u771F\u4EBA1",label:a(e)("CUST.translate300"),align:"center"},{default:r(({row:t})=>[c("div",{class:g(Number(t.\u771F\u4EBA1)>0?"color1":Number(t.\u771F\u4EBA1)<0?"color2":"")},m(t.\u771F\u4EBA1),3)]),_:1},8,["label"]),l(o,{prop:"\u5F69\u79681",label:a(e)("CUST.translate301"),align:"center"},{default:r(({row:t})=>[c("div",{class:g(Number(t.\u5F69\u79681)>0?"color1":Number(t.\u5F69\u79681)<0?"color2":"")},m(t.\u5F69\u79681),3)]),_:1},8,["label"]),l(o,{prop:"\u6355\u9C7C1",label:a(e)("CUST.translate302"),align:"center"},{default:r(({row:t})=>[c("div",{class:g(Number(t.\u6355\u9C7C1)>0?"color1":Number(t.\u6355\u9C7C1)<0?"color2":"")},m(t.\u6355\u9C7C1),3)]),_:1},8,["label"]),l(o,{prop:"\u7535\u5B501",label:a(e)("CUST.translate303"),align:"center"},{default:r(({row:t})=>[c("div",{class:g(Number(t.\u7535\u5B501)>0?"color1":Number(t.\u7535\u5B501)<0?"color2":"")},m(t.\u7535\u5B501),3)]),_:1},8,["label"]),l(o,{prop:"demo5",label:a(e)("CUST.translate304"),align:"center"},{default:r(({row:t})=>[c("div",{class:g(Number(t.demo5)>0?"color1":Number(t.demo5)<0?"color2":"")},m(t.demo5),3)]),_:1},8,["label"])]),_:1},8,["label"]),l(o,{prop:"demo2",label:a(e)("CUST.translate305"),"min-width":"150",align:"center"},{default:r(()=>[l(o,{prop:"\u4F53\u80B22",label:a(e)("CUST.translate298"),align:"center"},null,8,["label"]),l(o,{prop:"\u68CB\u724C2",label:a(e)("CUST.translate299"),align:"center"},null,8,["label"]),l(o,{prop:"\u771F\u4EBA2",label:a(e)("CUST.translate300"),align:"center"},null,8,["label"]),l(o,{prop:"\u5F69\u79682",label:a(e)("CUST.translate301"),align:"center"},null,8,["label"]),l(o,{prop:"\u6355\u9C7C2",label:a(e)("CUST.translate302"),align:"center"},null,8,["label"]),l(o,{prop:"\u7535\u5B502",label:a(e)("CUST.translate303"),align:"center"},null,8,["label"])]),_:1},8,["label"]),l(o,{prop:"demo3",label:a(e)("CUST.translate38"),"min-width":"150",align:"center"},{default:r(()=>[l(o,{prop:"\u4F53\u80B23",label:a(e)("CUST.translate298"),align:"center"},null,8,["label"]),l(o,{prop:"\u68CB\u724C3",label:a(e)("CUST.translate299"),align:"center"},null,8,["label"]),l(o,{prop:"\u771F\u4EBA3",label:a(e)("CUST.translate300"),align:"center"},null,8,["label"]),l(o,{prop:"\u5F69\u79683",label:a(e)("CUST.translate301"),align:"center"},null,8,["label"]),l(o,{prop:"\u6355\u9C7C3",label:a(e)("CUST.translate302"),align:"center"},null,8,["label"]),l(o,{prop:"\u7535\u5B503",label:a(e)("CUST.translate303"),align:"center"},null,8,["label"]),l(o,{prop:"demo6",label:a(e)("CUST.translate304"),align:"center"},null,8,["label"])]),_:1},8,["label"])]),_:1},8,["data"])])),[[v,n.loading]])])}}};var vl=V(M,[["__scopeId","data-v-35cec0bb"]]);export{vl as default};
